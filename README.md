# ğŸ—“ï¸ Trá»£ LÃ½ Lá»‹ch TrÃ¬nh - Vietnamese NLP Calendar Assistant# ğŸ“… Trá»£ LÃ½ Lá»‹ch TrÃ¬nh - Vietnamese NLP Calendar Assistant# ğŸ“… Trá»£ LÃ½ Lá»‹ch TrÃ¬nh - Vietnamese NLP Calendar Assistant





[![Version](https://img.shields.io/badge/version-2-blue.svg)](https://github.com/d0ngle8k/NLP-Processing/releases)

[![Python](https://img.shields.io/badge/python-3.13+-brightgreen.svg)](https://www.python.org/)> Extract events, times, locations, and reminders from Vietnamese text with PhoBERT hybrid NLP pipeline

[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)


---



## âœ¨ Key Features[![Python](https://img.shields.io/badge/python-3.13%2B-brightgreen.svg)](https://www.python.org/)> **Status:** Production Ready âœ…  



### ğŸ¤– **Advanced NLP Processing**[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

- **Hybrid AI Pipeline**: Rule-based (100%) + PhoBERT fine-tuned (95%) with intelligent voting

- **Vietnamese Time Parsing**: 96.4% accuracy on complex expressions ("6h chiá»u mai", "thá»© 3 tuáº§n sau")

- **Smart Location Detection**: NER + regex with context awareness

- **Intelligent Reminders**: Extract "nháº¯c trÆ°á»›c 2 tiáº¿ng" patterns---



### ğŸ¨ **Modern UI/UX**

- **CustomTkinter Interface**: Material Design with smooth animations

- **Dark/Light Themes**: System-aware theme switching## âœ¨ Features

- **Calendar Integration**: Visual monthly calendar with event indicators

- **Real-time Notifications**: Background service with custom sounds# ğŸ“… Trá»£ LÃ½ Lá»‹ch TrÃ¬nh (Vietnamese NLP Calendar Assistant)



### ğŸ“Š **Data Management**### ğŸ¤– **Intelligent NLP Processing**

- **SQLite Database**: Efficient local storage with full CRUD operations

- **Import/Export**: JSON, ICS (Google Calendar compatible), Excel, PDF- **Hybrid PhoBERT + Rule-based Pipeline**: 80.67% event extraction accuracy (99.1% real-world)![Version](https://img.shields.io/badge/version-0.8.1-blue.svg) ![Python](https://img.shields.io/badge/python-3.9%2B-green.svg) ![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)

- **Statistics Dashboard**: Event analytics, trends, and visualizations

- **Backup & Restore**: Easy data migration- **Advanced Time Parsing**: Supports complex Vietnamese time expressions (1h50p, 14h30, ngÃ y mai, tuáº§n sau...)



---- **Smart Location Detection**: Automatic location extraction with heuristic validationá»¨ng dá»¥ng giÃºp táº¡o & quáº£n lÃ½ lá»‹ch háº¹n báº±ng tiáº¿ng Viá»‡t tá»± nhiÃªn. Báº¡n nháº­p cÃ¢u giá»‘ng nhÆ° trÃ² chuyá»‡n: há»‡ thá»‘ng tá»± Ä‘á»™ng trÃ­ch xuáº¥t sá»± kiá»‡n, thá»i gian, Ä‘á»‹a Ä‘iá»ƒm, nháº¯c nhá»Ÿ. Káº¿t há»£p mÃ´ hÃ¬nh **Hybrid NLP** (Rule-based 100% + PhoBERT fine-tuned â‰¥95%).



## ğŸš€ Quick Start- **Context-Aware Reminders**: Extract reminder times from natural language



### **Option 1: Standalone EXE (Recommended)**---

```powershell

# Download and run immediately - no installation needed!### ğŸ¨ **Modern UI/UX**## âœ¨ TÃ­nh nÄƒng chÃ­nh

# File: trolylichtrinhV2.exe (3.6 GB)

# Includes: Python 3.13, PyTorch, PhoBERT models, all dependencies- **CustomTkinter Interface**: Material Design-inspired modern GUI



.\trolylichtrinhV2.exe- **Smooth Animations**: Fade effects on event updates (300ms transitions)- ğŸ” Nháº­n dáº¡ng thá»i gian phá»©c táº¡p: "6h chiá»u mai", "thá»© 7 tuáº§n sau 7h tá»‘i", "trong 2 ngÃ y ná»¯a".

```

- **Dark/Light Themes**: System-aware theme switching- ğŸ—“ï¸ Há»— trá»£ nhiá»u Ä‘á»‹nh dáº¡ng ngÃ y: `DD/MM`, `DD/MM/YYYY`, "ngÃ y X thÃ¡ng Y", tÃªn thá»© + sá»‘.

### **Option 2: Run from Source**

```powershell- **Calendar Widget**: Visual monthly calendar with event indicators- ğŸ§  Hybrid NLP: So sÃ¡nh káº¿t quáº£ Rule-based & PhoBERT, tÃ­nh Ä‘iá»ƒm agreement.

# 1. Clone repository

git clone https://github.com/d0ngle8k/NLP-Processing.git- **Real-time Notifications**: Background service with custom sounds- ğŸ“ TrÃ­ch xuáº¥t Ä‘á»‹a Ä‘iá»ƒm tá»« cÃ¢u (NER + regex).

cd NLP-Processing

- ğŸ”” Nháº¯c nhá»Ÿ linh hoáº¡t: phÃºt / giá» / ngÃ y ("nháº¯c trÆ°á»›c 2 tiáº¿ng", "15 phÃºt").

# 2. Create virtual environment

python -m venv .venv### ğŸ“Š **Data Management**- ğŸ“¤ Export: Google Calendar / Outlook / Apple (ICS + JSON).

.\.venv\Scripts\Activate.ps1

- **SQLite Database**: Efficient local storage with full CRUD operations- ğŸ“¥ Import: Äá»c file export & test case format.

# 3. Install dependencies

pip install -r requirements.txt- **Import/Export**: JSON and ICS format support- ğŸ“Š Dashboard thá»‘ng kÃª: phÃ¢n bá»‘ thá»i gian, xu hÆ°á»›ng 4 tuáº§n, top Ä‘á»‹a Ä‘iá»ƒm.



# 4. Run application- **Statistics Dashboard**: Event analytics and insights- ğŸ›¡ï¸ Báº£o vá»‡ dá»¯ liá»‡u: xÃ¡c nháº­n 2 lá»›p khi xÃ³a toÃ n bá»™.

python main_ctk.py

```- **Backup & Restore**: Easy data migration- ğŸ›ï¸ Settings riÃªng + cháº¿ Ä‘á»™ im láº·ng (táº¯t debug vá»›i `VERBOSE_LOG=False`).



---



## ğŸ“– Usage Examples------



### **Natural Language Input**## ğŸ§± Kiáº¿n trÃºc tá»•ng quan

```

Input: "Há»p nhÃ³m lÃºc 10h sÃ¡ng mai á»Ÿ phÃ²ng 302, nháº¯c trÆ°á»›c 30 phÃºt"## ğŸš€ Quick Start

Output:

  âœ… Event: "Há»p nhÃ³m"```

  âœ… Time: Tomorrow 10:00 AM

  âœ… Location: "phÃ²ng 302"### **Option 1: Run Executable (Windows)**â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

  âœ… Reminder: 30 minutes before

```â”‚            Hybrid NLP Pipeline          â”‚



### **Complex Time Patterns**1. Download the latest release from [Releases](https://github.com/d0ngle8k/NLP-Processing/releases)â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

```

âœ… "6h chiá»u mai" â†’ Tomorrow 6:00 PM2. Extract `TroLyLichTrinh_v1.0.4_Improved.exe` (987 MB)â”‚  Rule-based Parser  â”‚  PhoBERT Fine-tuned â”‚

âœ… "thá»© 3 tuáº§n sau 2h" â†’ Next Wednesday 2:00 PM

âœ… "15/12 lÃºc 14h30" â†’ December 15, 2:30 PM3. Double-click to run - no installation needed!â”‚  100% edge cases    â”‚  Contextual          â”‚

âœ… "tuáº§n sau thá»© 5" â†’ Next Friday

```â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜



### **Reminder Patterns****System Requirements:**                â–¼                     â–¼

```

âœ… "nháº¯c trÆ°á»›c 2 tiáº¿ng" â†’ 120 minutes before- Windows 10/11 (64-bit)            Voting / Merge Engine  (Agreement Score)

âœ… "nháº¯c 30 phÃºt" â†’ 30 minutes before

âœ… "nháº¯c trÆ°á»›c 1 ngÃ y" â†’ 24 hours before- 2 GB RAM minimum                              â–¼

```

- 1.5 GB disk space                  Chuáº©n hoÃ¡ káº¿t quáº£ cuá»‘i

---

```

## ğŸ—ï¸ Architecture

### **Option 2: Run from Source**

```

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ThÃ nh pháº§n chÃ­nh:

â”‚                     User Interface (CTk)                     â”‚

â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚```powershell- `core_nlp/pipeline.py`: Rule-based phÃ¢n tÃ­ch thá»i gian / ngÃ y.

â”‚  â”‚ Event Input  â”‚   Calendar   â”‚   Statistics Dashboard   â”‚ â”‚

â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚# 1. Clone repository- `core_nlp/hybrid_pipeline.py`: Káº¿t há»£p PhoBERT + Rule-based.

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”‚git clone https://github.com/d0ngle8k/NLP-Processing.git- `database/db_manager.py`: SQLite + schema + káº¿t ná»‘i.

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

         â”‚     NLP Pipeline (Hybrid)     â”‚cd NLP-Processing- `services/*`: Export/Import/Notification/Statistics.

         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚

         â”‚  â”‚ PhoBERT  â”‚  Rule-based  â”‚  â”‚- `widgets/`: ThÃ nh pháº§n giao diá»‡n CustomTkinter.

         â”‚  â”‚   NER    â”‚   Patterns   â”‚  â”‚

         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚# 2. Create virtual environment (Python 3.13+ recommended)

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”‚python -m venv .venv---

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

         â”‚      Services Layer           â”‚.\.venv\Scripts\Activate.ps1## ğŸ“¦ CÃ i Ä‘áº·t

         â”‚  â€¢ Time Parser               â”‚

         â”‚  â€¢ Location Extractor        â”‚

         â”‚  â€¢ Notification Service      â”‚

         â”‚  â€¢ Import/Export Service     â”‚# 3. Install dependencies### YÃªu cáº§u

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         â”‚pip install -r requirements.txt- Python 3.9+ (khuyÃªn dÃ¹ng 3.12)

         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

         â”‚     Database (SQLite)         â”‚- Windows 10+ 64-bit

         â”‚  â€¢ Events, Reminders, Sounds â”‚

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜# 4. Run application- RAM 2GB+, Disk trá»‘ng â‰¥1GB (bundle exe lá»›n do model + PyTorch)

```

python main_ctk.py

### **Core Components**

```### Clone & mÃ´i trÆ°á»ng

| Component | Purpose | Accuracy |

|-----------|---------|----------|```powershell

| **Hybrid Pipeline** | Combines AI + rules for best results | 99.7% |

| **Time Parser** | Vietnamese time expression parsing | 96.4% |---git clone https://github.com/d0ngle8k/NLP-Processing.git

| **Location Extractor** | Smart location detection | 25.3% |

| **Notification Service** | Background reminders | 100% |cd NLP-Processing



---## ğŸ“– Usage Examplespython -m venv .venv



## ğŸ“Š Performance Metrics.\.venv\Scripts\Activate.ps1



### **NLP Accuracy (1000 test prompts)**### **Basic Event Creation**pip install -r requirements.txt

| Metric | Before (v0.5) | After (v0.6.1) | Improvement |

|--------|----------------|----------------|-------------|```

| **Time Extraction** | 15.7% | **96.4%** | +80.7% |

| **Location Detection** | 24.8% | 25.3% | +0.5% |```

| **Event Extraction** | 87.5% | **99.7%** | +12.2% |

| **PhoBERT Errors** | 2 errors | **0 errors** | Fixed |Input: "Há»p nhÃ³m ngÃ y mai lÃºc 2 giá» chiá»u táº¡i phÃ²ng A301"---



### **Processing Performance**Output:## ğŸš€ Cháº¡y á»©ng dá»¥ng

- **Speed**: 202.4 prompts/second

- **Memory**: ~4GB RAM during operation  - Event: Há»p nhÃ³m

- **Startup**: ~3 seconds (PhoBERT model loading)

- **Reliability**: 0 crashes on 1000+ test cases  - Time: Tomorrow 14:00### GUI (CustomTkinter)



---  - Location: phÃ²ng A301```powershell



## ğŸ“ Project Structure```python main_ctk.py



``````

NLP-Processing/

â”œâ”€â”€ main_ctk.py                    # Main GUI application### **Complex Time Patterns**

â”œâ”€â”€ main.py                        # Legacy Tkinter version

â”œâ”€â”€ requirements.txt               # Python dependencies### CLI thá»­ nghiá»‡m (Hybrid Debug)

â”œâ”€â”€ trolylichtrinhV2.spec         # PyInstaller build config

â”œâ”€â”€ README.md                      # This documentation``````powershell

â”œâ”€â”€ CHANGELOG.md                   # Version history

â”‚Input: "Äi gym 1h50p sÃ¡ng mai"python version_document/interactive_test_hybrid.py

â”œâ”€â”€ core_nlp/                      # NLP Processing Engine

â”‚   â”œâ”€â”€ pipeline.py               # Rule-based extraction logicOutput:```

â”‚   â”œâ”€â”€ hybrid_pipeline.py        # Hybrid AI + Rule-based

â”‚   â”œâ”€â”€ time_parser.py            # Vietnamese time parsing  - Event: Äi gym

â”‚   â””â”€â”€ phobert_model.py          # PhoBERT integration

â”‚  - Time: Tomorrow 01:50### Táº¯t / báº­t debug

â”œâ”€â”€ database/                      # Data Layer

â”‚   â”œâ”€â”€ db_manager.py             # SQLite operationsTrong `main_ctk.py` Ä‘á»•i:

â”‚   â”œâ”€â”€ schema.sql                # Database schema

â”‚   â””â”€â”€ events.db                 # SQLite database (auto-created)Input: "Há»p team 14h30 ngÃ y 15/12"```python

â”‚

â”œâ”€â”€ services/                      # Business LogicOutput:VERBOSE_LOG = False  # True Ä‘á»ƒ xem log chi tiáº¿t

â”‚   â”œâ”€â”€ notification_service.py   # Background reminders

â”‚   â”œâ”€â”€ export_service.py         # JSON/ICS export  - Event: Há»p team```

â”‚   â”œâ”€â”€ import_service.py         # JSON/ICS import

â”‚   â”œâ”€â”€ statistics_service.py     # Analytics & reporting  - Time: 2025-12-15 14:30

â”‚   â””â”€â”€ sound_service.py          # Audio notifications

â”‚```---

â”œâ”€â”€ widgets/                       # UI Components

â”‚   â”œâ”€â”€ event_card.py             # Event display cards## ğŸ›  Build file EXE (PyInstaller)

â”‚   â””â”€â”€ calendar_widget.py        # Calendar integration

â”‚### **Reminder Support**

â”œâ”€â”€ models/                        # AI Models (~1GB)

â”‚   â”œâ”€â”€ phobert_base/             # Pre-trained PhoBERTSá»­ dá»¥ng spec tá»‘i Æ°u: `build_main_ctk.spec` (Ä‘Ã£ loáº¡i bá» thÆ° má»¥c rá»—ng, thÃªm hidden imports). 

â”‚   â””â”€â”€ phobert_finetuned/        # Fine-tuned for calendar

â”‚```

â”œâ”€â”€ tests/                         # Test Suite

â”‚   â”œâ”€â”€ test_nlp_pipeline.py      # Unit testsInput: "Ná»™p bÃ¡o cÃ¡o ngÃ y 20/12 nháº¯c trÆ°á»›c 1 ngÃ y"```powershell

â”‚   â”œâ”€â”€ test_cases.json           # Test data

â”‚   â”œâ”€â”€ run_extended_tests.py     # Test runnerOutput:.\.venv\Scripts\python.exe -m PyInstaller --clean build_main_ctk.spec

â”‚   â””â”€â”€ full_test_results_v0.6.1.json  # Latest results

â”‚  - Event: Ná»™p bÃ¡o cÃ¡o```

â”œâ”€â”€ dist/                          # Distribution

â”‚   â”œâ”€â”€ trolylichtrinhV2.exe      # Standalone executable (3.6GB)  - Time: 2025-12-20Káº¿t quáº£: `dist/TroLyLichTrinhV2.exe`

â”‚   â””â”€â”€ README_EXE.txt            # EXE usage guide

â”‚  - Reminder: 2025-12-19 (1 day before)

â””â”€â”€ scripts/                       # Utilities

    â””â”€â”€ generate_report.py        # Report generation```Náº¿u lá»—i Permission Denied khi update checksum: Ä‘Ã³ng má»i phiÃªn báº£n Ä‘ang cháº¡y rá»“i build láº¡i.

```



---

------

## ğŸ§ª Testing

## ğŸ§ª Kiá»ƒm thá»­

### **Run Tests**

```powershell## ğŸ—ï¸ Architecture

# Unit tests

python -m unittest tests/test_nlp_pipeline.py -v| Suite | Sá»‘ test | Tráº¡ng thÃ¡i |



# Extended test suite (1000 prompts)```|-------|---------|------------|

python tests/run_extended_tests.py

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”| NLP Pipeline | 42 | âœ… |

# Performance benchmark

python -c "â”‚                     User Interface (CTk)                     â”‚| Hybrid Voting | 10 | âœ… |

from core_nlp.hybrid_pipeline import HybridNLPPipeline

import timeâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚| New Patterns | 8 | âœ… |



pipeline = HybridNLPPipeline()â”‚  â”‚ Event Input  â”‚   Calendar   â”‚   Statistics Dashboard   â”‚ â”‚| Extended Edge Cases | 1065 | âœ… |

start = time.time()

results = [pipeline.process('Há»p nhÃ³m 10h mai') for _ in range(100)]â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚

elapsed = time.time() - start

print(f'100 prompts: {elapsed:.2f}s ({100/elapsed:.1f} prompts/sec)')â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Cháº¡y nhanh:

"

```                         â”‚```powershell



### **Test Results**         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”python tests/test_nlp_pipeline.py

```

âœ… Events: 997/1000 (99.7%)         â”‚     NLP Pipeline (Hybrid)     â”‚python tests/run_extended_tests.py

âœ… Times: 964/1000 (96.4%)

âœ… Locations: 253/1000 (25.3%)         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚```

âœ… Errors: 0/1000 (0.0%)

âœ… Processing: 4.9s (202.4 prompts/sec)         â”‚  â”‚ PhoBERT  â”‚  Rule-based  â”‚  â”‚

```

         â”‚  â”‚   NER    â”‚   Patterns   â”‚  â”‚---

---

         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚## ğŸ“‚ Cáº¥u trÃºc dá»± Ã¡n (rÃºt gá»n)

## ğŸ“¦ Build Standalone EXE

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜```

### **Using PyInstaller**

```powershell                         â”‚NLP-Processing/

# Install PyInstaller

pip install pyinstaller         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”œâ”€â”€ main_ctk.py                # Entry GUI



# Build executable (includes all models & dependencies)         â”‚      Services Layer           â”‚â”œâ”€â”€ build_main_ctk.spec        # PyInstaller spec chuáº©n

pyinstaller --clean trolylichtrinhV2.spec

         â”‚  â€¢ Time Parser               â”‚â”œâ”€â”€ core_nlp/                  # NLP logic & hybrid

# Result: dist/trolylichtrinhV2.exe (3.6GB)

```         â”‚  â€¢ Location Extractor        â”‚â”œâ”€â”€ services/                  # Export / Import / Notification / Stats



### **EXE Features**         â”‚  â€¢ Notification Service      â”‚â”œâ”€â”€ widgets/                   # CustomTkinter components

- âœ… **Self-contained**: No Python installation required

- âœ… **All dependencies**: PyTorch, transformers, underthesea included         â”‚  â€¢ Import/Export Service     â”‚â”œâ”€â”€ database/                  # SQLite schema & manager

- âœ… **PhoBERT models**: Fine-tuned Vietnamese NLP models

- âœ… **Database**: SQLite with schema         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”œâ”€â”€ models/                    # PhoBERT (fine-tuned)

- âœ… **Sounds**: Notification audio files

- âœ… **Cross-platform**: Windows 10/11 compatible                         â”‚â”œâ”€â”€ training_data/             # Dá»¯ liá»‡u huáº¥n luyá»‡n/validation



### **Distribution**         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”œâ”€â”€ tests/                     # Bá»™ test tá»± Ä‘á»™ng

```powershell

# The exe is completely standalone         â”‚     Database (SQLite)         â”‚â””â”€â”€ version_document/          # TÃ i liá»‡u archive (changelog, design, guides)

# Just share trolylichtrinhV2.exe - users can run it immediately

.\trolylichtrinhV2.exe         â”‚  â€¢ Events, Reminders, Sounds â”‚```

```

         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

```---

## ğŸ”§ Configuration

## ğŸ“¥ğŸ“¤ Import / Export

### **Model Selection**

Edit `main_ctk.py` to choose NLP pipeline:---- JSON: Backup & restore sá»± kiá»‡n.



```python- ICS: Äá»“ng bá»™ Google / Outlook / Apple.

# Option 1: Hybrid (Recommended)

from core_nlp.hybrid_pipeline import HybridNLPPipeline## ğŸ“‚ Project Structure- Export bÃ¡o cÃ¡o: scripts/generate_report.py (PDF/Excel).

nlp = HybridNLPPipeline()



# Option 2: Rule-based only (Fast, 100% accurate)

from core_nlp.pipeline import NLPPipeline```---

nlp = NLPPipeline()

NLP-Processing/## ğŸ”” Nháº¯c nhá»Ÿ

# Option 3: PhoBERT only (Experimental)

from core_nlp.phobert_model import PhoBERTNLPPipelineâ”œâ”€â”€ main_ctk.py                    # Main application (CustomTkinter GUI)- Thread ná»n kiá»ƒm tra má»—i 60s (`notification_service.py`).

nlp = PhoBERTNLPPipeline()

```â”œâ”€â”€ main.py                        # Legacy Tkinter version- TrÃ¡nh spam: Ä‘Ã¡nh dáº¥u Ä‘Ã£ thÃ´ng bÃ¡o.



### **Debug Mode**â”œâ”€â”€ requirements.txt               # Python dependencies- Há»— trá»£ trÆ°á»›c X phÃºt/giá»/ngÃ y.

```python

# Enable verbose loggingâ”œâ”€â”€ build_main_ctk.spec           # PyInstaller build configuration

VERBOSE_LOG = True  # Shows model loading, processing steps

```â”œâ”€â”€ .gitignore                    # Git ignore patterns---



---â”‚## ğŸ§  NLP Highlights



## ğŸ› Troubleshootingâ”œâ”€â”€ core_nlp/                      # NLP Processing Engine- Xá»­ lÃ½ lá»—i gÃµ phá»• biáº¿n: "tÃ¡mh", "mÆ°á»ih".



### **Common Issues**â”‚   â”œâ”€â”€ pipeline.py               # Hybrid PhoBERT + Rule-based pipeline- Chuáº©n hoÃ¡ buá»•i: sÃ¡ng / chiá»u / tá»‘i / trÆ°a.



| Issue | Solution |â”‚   â””â”€â”€ time_parser.py            # Vietnamese time expression parser- TÆ°Æ¡ng Ä‘á»‘i: "trong 2 ngÃ y", "tuáº§n sau", "thÃ¡ng sau".

|-------|----------|

| **Module not found** | `pip install -r requirements.txt` |â”‚- MÃºi giá»: há»— trá»£ chuáº©n hoÃ¡ + ná»™i suy náº¿u thiáº¿u nÄƒm.

| **EXE won't start** | Check antivirus, run as administrator |

| **Slow startup** | Normal - PhoBERT model loading (~3s) |â”œâ”€â”€ database/                      # Data Layer

| **Time parsing errors** | Use explicit formats: "10h sÃ¡ng mai" |

| **Database locked** | Close all app instances, restart |â”‚   â”œâ”€â”€ db_manager.py             # SQLite operations---

| **Sound not working** | Check Windows audio settings |

â”‚   â””â”€â”€ schema.sql                # Database schema## ğŸ›¡ï¸ Báº£o trÃ¬ & Ä‘Ã³ng gÃ³p

### **Performance Tips**

- **For speed**: Use rule-based pipelineâ”‚Pull Request Ä‘Æ°á»£c chÃ o Ä‘Ã³n. Vui lÃ²ng kÃ¨m test cho logic NLP má»›i.

- **For accuracy**: Use hybrid pipeline

- **For large datasets**: Enable database indexesâ”œâ”€â”€ services/                      # Business Logic

- **For low memory**: Reduce batch processing size

â”‚   â”œâ”€â”€ notification_service.py   # Background reminders---

---

â”‚   â”œâ”€â”€ import_service.py         # JSON/ICS import## ğŸ“ TÃ i liá»‡u má»Ÿ rá»™ng

## ğŸ“ Changelog

â”‚   â”œâ”€â”€ export_service.py         # JSON/ICS exportXem thÆ° má»¥c `version_document/` (Ä‘Æ°á»£c ignore trong Git Ä‘á»ƒ giáº£m noise) chá»©a: 

### **v0.6.1 (2025-11-09)** ğŸ”¥ LATEST

- âœ… **Massive improvement**: Time extraction 15.7% â†’ 96.4% (+80.7%)â”‚   â””â”€â”€ statistics_service.py     # Analytics & reporting- Changelog & Hotfix (`V0.*.md`)

- âœ… **Fixed PhoBERT errors**: 0 errors on 1000 test prompts

- âœ… **Enhanced location detection**: 50+ new Vietnamese patternsâ”‚- UI redesign (`BA_GOOGLE_CALENDAR_UI_REDESIGN.md`)

- âœ… **Standalone EXE**: trolylichtrinhV2.exe (3.6GB) with all dependencies

- âœ… **Production ready**: 202.4 prompts/sec processing speedâ”œâ”€â”€ widgets/                       # UI Components- Training guides (Colab, GPU)



### **v0.6.0 (2025-11-05)**â”‚   â”œâ”€â”€ calendar_widget.py        # Monthly calendar view- Sound system & Theme updates

- âœ… Statistics dashboard with charts

- âœ… PDF/Excel export capabilitiesâ”‚   â”œâ”€â”€ event_list_widget.py      # Event list with animations

- âœ… Enhanced UI with CustomTkinter

- âœ… Background notification serviceâ”‚   â””â”€â”€ settings_widget.py        # Settings dialog---



### **v0.5.0 (2025-11-04)**â”‚## âš ï¸ Troubleshooting

- âœ… Initial hybrid NLP pipeline

- âœ… Basic Vietnamese time parsingâ”œâ”€â”€ models/                        # AI Models (~1 GB)| Váº¥n Ä‘á» | NguyÃªn nhÃ¢n | CÃ¡ch xá»­ lÃ½ |

- âœ… SQLite database integration

- âœ… JSON/ICS import/exportâ”‚   â”œâ”€â”€ phobert_base/             # Pre-trained PhoBERT|--------|-------------|------------|



---â”‚   â””â”€â”€ phobert_finetuned/        # Fine-tuned for calendar tasks| PhoBERT load cháº­m | KÃ­ch thÆ°á»›c model | KiÃªn nháº«n (~vÃ i giÃ¢y) / preload |



## ğŸ“„ Licenseâ”‚| EXE >900MB | PyTorch + model | DÃ¹ng zip phÃ¢n phá»‘i / build láº¡i khi tá»‘i Æ°u |



**MIT License** - Free for personal and commercial useâ”œâ”€â”€ sounds/                        # Notification Sounds| Lá»—i checksum khi build | File exe Ä‘ang má»Ÿ | Táº¯t á»©ng dá»¥ng rá»“i build láº¡i |



```â”‚   â””â”€â”€ sound1-4.wav              # Default notification tones| KhÃ´ng hiá»‡n Ã¢m thanh | Thiáº¿u preset | Táº¡o file .wav trong `sounds/` |

Copyright (c) 2025 d0ngle8k

â”‚

Permission is hereby granted, free of charge, to any person obtaining a copy

of this software and associated documentation files (the "Software"), to dealâ”œâ”€â”€ training_data/                 # Training Datasets---

in the Software without restriction, including without limitation the rights

to use, copy, modify, merge, publish, distribute, sublicense, and/or sellâ”‚   â””â”€â”€ ...                       # Labeled training examples## ğŸ“„ License

copies of the Software...

```â”‚ChÆ°a khai bÃ¡o â€“ bá»• sung sau (MIT khuyáº¿n nghá»‹).



---â”œâ”€â”€ tests/                         # Test Suite



## ğŸ‘¨â€ğŸ’» Authorâ”‚   â”œâ”€â”€ test_nlp_pipeline.py      # NLP unit tests---



**TrÆ°á»ng Gia ThÃ nh (d0ngle8k)**â”‚   â”œâ”€â”€ test_cases.json           # Baseline test dataset## âœ… Tráº¡ng thÃ¡i hiá»‡n táº¡i

- **GitHub**: [@d0ngle8k](https://github.com/d0ngle8k)

- **Repository**: [NLP-Processing](https://github.com/d0ngle8k/NLP-Processing)â”‚   â”œâ”€â”€ extended_test_cases*.json # Extended test suites- Production GUI âœ…

- **Email**: Contact via GitHub

â”‚   â””â”€â”€ test_date_parsing_results.json- Silent startup âœ…

---

â”‚- EXE build verified âœ…

## ğŸ™ Acknowledgments

â”œâ”€â”€ scripts/                       # Utility Scripts- NLP >1000 edge cases âœ…

- **PhoBERT** - Vietnamese BERT model by VinAI Research

- **underthesea** - Vietnamese NLP toolkitâ”‚   â””â”€â”€ generate_report.py        # Report generation

- **CustomTkinter** - Modern tkinter UI library

- **PyTorch** - Deep learning frameworkâ”‚---

- **Transformers** - Hugging Face library

â”œâ”€â”€ version_document/              # Version History & Documentation*README Ä‘Æ°á»£c viáº¿t láº¡i gá»n gÃ ng tá»« báº£n cÅ© bá»‹ trá»™n ná»™i dung. Náº¿u cáº§n thÃªm English section, thÃ´ng bÃ¡o Ä‘á»ƒ bá»• sung.*

---

â”‚   â”œâ”€â”€ INDEX.md                  # Documentation index```

## ğŸ“ Support

â”‚   â”œâ”€â”€ RELEASE_v1.0.3.md        # Release notes

**Need help?**

1. Check [Troubleshooting](#-troubleshooting) sectionâ”‚   â””â”€â”€ ...                       # 30+ technical documents

2. Review [CHANGELOG.md](CHANGELOG.md) for updates

3. Create an issue on GitHubâ”‚

4. Check the [Wiki](https://github.com/d0ngle8k/NLP-Processing/wiki) for guides

â”œâ”€â”€ build/                         # Build artifacts (gitignored)## ğŸ”§ Configuration

---

â”‚   â””â”€â”€ build_main_ctk/           # Latest build cache

## ğŸ¯ Roadmap

â”‚#### 3. Sá»­a Sá»± Kiá»‡n- [Troubleshooting](#-troubleshooting)

### **âœ… Completed**

- [x] Hybrid NLP pipeline with 96.4% accuracyâ””â”€â”€ dist/                          # Distribution folder

- [x] Modern CustomTkinter UI

- [x] Standalone EXE distribution    â””â”€â”€ TroLyLichTrinh_v1.0.4_Improved.exe  # Standalone executable### Model Selection

- [x] Vietnamese time parsing

- [x] Statistics and reporting```

- [x] Import/export functionality

- Double-click vÃ o sá»± kiá»‡n trong danh sÃ¡ch

### **ğŸš§ In Progress**

- [ ] Google Calendar sync---

- [ ] Mobile app (Flutter)

- [ ] Voice input integrationEdit `main.py` to change model:

- [ ] Multi-language support

## ğŸ§  NLP Pipeline Details

### **ğŸ’¡ Planned**

- [ ] Recurring events- Chá»‰nh sá»­a thÃ´ng tin trong form- [Changelog](#-changelog)- PhÃ¢n tÃ­ch thá»i gian: `core_nlp/time_parser.py`

- [ ] Team collaboration

- [ ] Smart suggestions### **Event Extraction Accuracy**

- [ ] Advanced analytics

```python

---

| Metric | Test Cases | Baseline | Extended | Real-World |

<p align="center">

  <strong>â­ Star this repo if you find it useful!</strong>|--------|-----------|----------|----------|------------|# Option 1: Hybrid (Recommended)- Báº¥m **"Sá»­a"** Ä‘á»ƒ lÆ°u

  <br>

  Made with â¤ï¸ for Vietnamese NLP processing| **Event Name** | 1,107 | 100% | 80.67% | **99.1%** |

  <br>

  <em>Version 0.6.1 - Production Ready</em>| **Time Parsing** | 1,107 | 98.5% | 95.2% | 97.8% |from core_nlp.hybrid_pipeline import HybridNLPPipeline

</p>
| **Location** | 543 | 96.7% | 92.3% | 95.1% |

nlp = HybridNLPPipeline()- [License](#-license)    - Quy táº¯c thá»§ cÃ´ng cho ngÃ y/giá» tÆ°á»ng minh vÃ  tÆ°Æ¡ng Ä‘á»‘i; máº·c Ä‘á»‹nh giá» náº¿u thiáº¿u (vÃ­ dá»¥ 09:00 hoáº·c theo buá»•i).

*Real-world accuracy excludes 210 meta-test artifacts*



### **Supported Time Patterns**

# Option 2: Rule-based only (Faster, 100% accurate)#### 4. XÃ³a Sá»± Kiá»‡n

```python

# Specific timesfrom core_nlp.pipeline import NLPPipeline

"14h30", "2 giá» chiá»u", "1h50p", "9h15 sÃ¡ng"

nlp = NLPPipeline()- Chá»n sá»± kiá»‡n â†’ Báº¥m **"XÃ³a"** (xÃ³a 1 sá»± kiá»‡n)    - Timezone chá»‰ Ã¡p dá»¥ng khi ngÆ°á»i dÃ¹ng nÃªu rÃµ (UTC/GMT hoáº·c â€œmÃºi giá» +..â€).

# Relative dates

"hÃ´m nay", "ngÃ y mai", "tuáº§n sau", "thÃ¡ng tá»›i"



# Complex expressions# Option 3: PhoBERT only (Experimental)- Hoáº·c báº¥m **"XÃ³a táº¥t cáº£"** â†’ XÃ¡c nháº­n 2 láº§n

"thá»© 3 tuáº§n sau", "ngÃ y 15/12", "cuá»‘i thÃ¡ng nÃ y"

from core_nlp.phobert_model import PhoBERTModel

# Reminders

"nháº¯c trÆ°á»›c 1 ngÃ y", "nháº¯c trÆ°á»›c 2 giá»", "nháº¯c 30 phÃºt trÆ°á»›c"nlp = PhoBERTModel(model_path='./models/phobert_finetuned')---

```

```

### **Location Patterns**

#### 5. Import/Export

```python

# Explicit locations## ğŸ“ Pattern Support

"táº¡i phÃ²ng A301", "á»Ÿ HÃ  Ná»™i", "táº¡i cÃ´ng ty"

- Báº¥m **"âš™ï¸ CÃ i Ä‘áº·t"** (gÃ³c dÆ°á»›i bÃªn trÃ¡i)- CSDL: `database/db_manager.py` + `database/schema.sql`

# Smart extraction

"há»p cÃ´ng ty"        â†’ Location: "cÃ´ng ty"### Thá»i gian (Time)

"Ä‘i siÃªu thá»‹"        â†’ Location: "siÃªu thá»‹"

"cafe quÃ¡n gÃ³c phá»‘"  â†’ Location: "quÃ¡n gÃ³c phá»‘"- âœ… "6h sÃ¡ng", "3h chiá»u", "9h tá»‘i"- **Xuáº¥t JSON/ICS**: LÆ°u toÃ n bá»™ dá»¯ liá»‡u

```

- âœ… "6:30", "15:45"

---

- âœ… "6 rÆ°á»¡i", "7h30"- **Nháº­p JSON/ICS**: KhÃ´i phá»¥c hoáº·c import tá»« nguá»“n khÃ¡c## ğŸ’» YÃªu Cáº§u Há»‡ Thá»‘ng    - SQLite lÆ°u `events(id, event_name, start_time, end_time, location, reminder_minutes, status)`.

## ğŸ”§ Development



### **Setup Development Environment**

### NgÃ y (Date)

```powershell

# Install development dependencies- âœ… "hÃ´m nay", "ngÃ y mai", "ngÃ y kia"

pip install -r requirements.txt

pip install pytest black flake8- âœ… "thá»© 2", "thá»© ba", "chá»§ nháº­t"---    - CRUD, láº¥y theo ngÃ y, láº¥y nháº¯c nhá»Ÿ â€œpendingâ€ vÃ  cáº­p nháº­t tráº¡ng thÃ¡i `notified` sau khi hiá»ƒn thá»‹.



# Run tests- âœ… "tuáº§n sau", "thÃ¡ng sau"

python -m pytest tests/

- âœ… "ngÃ y 20 thÃ¡ng 10"

# Format code

python -m black .- âœ… **NEW:** "20/10", "25/12", "1/1/2026"



# Lint- âœ… **NEW:** "ngÃ y 20/10"## ğŸ—ï¸ Kiáº¿n TrÃºc Há»‡ Thá»‘ng### Minimum Requirements

python -m flake8 --max-line-length=100

```



### **Build Standalone Executable**### Nháº¯c nhá»Ÿ (Reminder)



```powershell- âœ… "nháº¯c trÆ°á»›c 30 phÃºt"

# Activate virtual environment

.\.venv\Scripts\Activate.ps1- âœ… "nháº¯c trÆ°á»›c 2 giá»"### Cáº¥u TrÃºc ThÆ° Má»¥c- **OS**: Windows 10+ (64-bit)- Dá»‹ch vá»¥: `services/`



# Build with PyInstaller- âœ… **NEW:** "nháº¯c trÆ°á»›c 2 tieng"

python -m PyInstaller --clean build_main_ctk.spec

- âœ… **NEW:** "nháº¯c trÆ°á»›c 1 tiáº¿ng"```

# Output: dist/TroLyLichTrinh_v1.0.4_Improved.exe (~987 MB)

```



**Build includes:**### Khoáº£ng thá»i gian (Duration)NLP-Processing/- **Python**: 3.9+ (recommended: 3.12.0)    - `import_service.py`: Ä‘á»c JSON/ICS vÃ  ghi vÃ o DB.

- Python 3.13 runtime

- PhoBERT models (1 GB)- âœ… "tá»« 2h Ä‘áº¿n 4h"

- PyTorch libraries (428 MB)

- All dependencies bundled- âœ… "2h-4h"â”œâ”€â”€ main.py                      # GUI chÃ­nh (Tkinter)



### **Run Tests**- âœ… "khoáº£ng 2 tiáº¿ng"



```powershellâ”œâ”€â”€ requirements.txt             # Python dependencies- **RAM**: 4GB+    - `export_service.py`: xuáº¥t toÃ n bá»™ DB ra JSON/ICS.

# Unit tests

python tests/test_nlp_pipeline.py## ğŸ†• What's New in V0.6.2



# Extended test suite (1,107 cases)â”œâ”€â”€ README.md                    # TÃ i liá»‡u nÃ y

python tests/run_extended_tests.py

### Bug Fixes

# Performance benchmarks

python tests/test_cases.json  # Baseline accuracy1. **Reminder Hours Support** - ThÃªm há»— trá»£ "tieng/tiáº¿ng" cho reminderâ”œâ”€â”€ CHANGELOG.md                 # Lá»‹ch sá»­ phiÃªn báº£n- **Disk**: 500MB free space    - `notification_service.py`: luá»“ng kiá»ƒm tra nháº¯c nhá»Ÿ vÃ  popup.

```

   - Before: "nháº¯c trÆ°á»›c 2 tieng" â†’ 0 mins âŒ

---

   - After: "nháº¯c trÆ°á»›c 2 tieng" â†’ 120 mins âœ…â”‚

## ğŸ“Š Performance Metrics



### **v1.0.4 Optimizations**

2. **DD/MM Date Format** - Há»— trá»£ Ä‘á»‹nh dáº¡ng ngÃ y DD/MMâ”œâ”€â”€ core_nlp/                    # Module xá»­ lÃ½ NLP

| Component | Before | After | Improvement |

|-----------|--------|-------|-------------|   - Before: "ngÃ y 20/10" â†’ None âŒ

| Event Extraction | 76.96% | 80.67% | +3.71% |

| Complex Events (4-15 words) | 65% | 95% | +30% |   - After: "ngÃ y 20/10" â†’ 2025-10-20 âœ…â”‚   â”œâ”€â”€ pipeline.py              # Pipeline chÃ­nh (NER + Time + Location)

| Priority Matching | Random | Optimized | Smart 3â†’2â†’1 word |

| Time Parsing (1h50p) | âŒ | âœ… | New pattern |



### **Real-world Performance**### Files Changedâ”‚   â””â”€â”€ time_parser.py           # Parser thá»i gian tiáº¿ng Viá»‡t### Dependencies- Kiá»ƒm thá»­: `tests/`



```- `core_nlp/pipeline.py` - Added "tieng|tiáº¿ng" to reminder patterns

Total Tests: 1,107

â”œâ”€â”€ Real Events: 897 (81%)- `core_nlp/time_parser.py` - Fixed DD/MM parsing with "ngÃ y" prefixâ”‚

â”‚   â”œâ”€â”€ Passed: ~889 (99.1%)

â”‚   â””â”€â”€ Failed: ~8 (0.9%)

â””â”€â”€ Meta Tests: 210 (19%) - excluded from metrics

```### Test Resultsâ”œâ”€â”€ database/                    # Lá»›p database```plaintext    - `tests/test_cases.json`: bá»™ dá»¯ liá»‡u ká»³ vá»ng.



---- âœ… All 1065 extended tests passed



## ğŸ¯ Features Roadmap- âœ… 8/8 new pattern tests passedâ”‚   â”œâ”€â”€ db_manager.py            # SQLite CRUD operations



### **âœ… Completed**- âœ… No regressions detected

- [x] CustomTkinter modern UI

- [x] PhoBERT hybrid NLP pipelineâ”‚   â”œâ”€â”€ schema.sql               # Database schema# Core NLP    - `tests/test_nlp_pipeline.py`: unittest tÃ­nh macro-F1 cho 4 nhÃ¡nh (event, time, location, reminder).

- [x] Fade animations (300ms)

- [x] Sound persistence to database## ğŸ“Š Performance

- [x] Time pattern 1h50p support

- [x] Calendar widget integrationâ”‚   â””â”€â”€ events.db                # SQLite database (auto-created)

- [x] Import/Export JSON/ICS

| Metric | Value |

### **ğŸš§ In Progress**

- [ ] Google Calendar sync|--------|-------|â”‚underthesea>=6.7.0        # Vietnamese NLP (NER, word segmentation)

- [ ] Mobile app (Flutter)

- [ ] Multi-language support| Accuracy (Rule-based) | 100% |



### **ğŸ’¡ Planned**| Accuracy (PhoBERT) | 95% |â”œâ”€â”€ services/                    # Business logic services

- [ ] Voice input integration

- [ ] Smart suggestions| Accuracy (Hybrid) | ~100% |

- [ ] Recurring events

- [ ] Team collaboration| Avg Processing Time | <100ms |â”‚   â”œâ”€â”€ import_service.py        # Import JSON/ICS â†’ DBpython-dateutil>=2.8.2    # Date parsing utilities## Cáº¥u trÃºc thÆ° má»¥c vÃ  tá»‡p chÃ­nh



---| Agreement Score | 84.3% avg |



## ğŸ› Troubleshootingâ”‚   â”œâ”€â”€ export_service.py        # Export DB â†’ JSON/ICS



### **Common Issues**## ğŸ› Known Issues



#### **1. Exe file won't start**â”‚   â””â”€â”€ notification_service.py  # Background reminder thread

```

Problem: ModuleNotFoundError- Event extraction may fail with very complex multi-pattern inputs

Solution: Download from Releases, don't rename/move files

```- PhoBERT model requires ~500MB RAMâ”‚



#### **2. NLP extraction errors**- First run loads PhoBERT model (~3s startup time)

```

Problem: Event not detectedâ”œâ”€â”€ scripts/                     # Utility scripts# GUI Components```

Solution: Use explicit patterns like "Há»p [event] lÃºc [time] táº¡i [location]"

```## ğŸ¤ Contributing



#### **3. Database locked**â”‚   â”œâ”€â”€ generate_edge_case_tests.py  # Táº¡o test cases

```

Problem: Database is locked### Development Setup

Solution: Close all app instances, delete events.db-wal

```â”‚   â””â”€â”€ generate_report.py           # Táº¡o bÃ¡o cÃ¡otkcalendar>=1.6.1         # Calendar widget.



#### **4. Models not found**```bash

```

Problem: PhoBERT models missing# Install dev dependenciesâ”‚

Solution: Ensure models/ folder exists with phobert_base/ and phobert_finetuned/

```pip install -r requirements.txt



---â””â”€â”€ tests/                       # Testing suitetkinter                    # Standard library (included with Python)â”œâ”€â”€ main.py                     # Tkinter GUI, nháº­p NLP, lá»‹ch, chá»‰nh sá»­a, import/export, nháº¯c nhá»Ÿ



## ğŸ“š Documentation# Run tests before commit



### **Core Documentation**python tests/run_extended_tests.py    â”œâ”€â”€ test_nlp_pipeline.py     # Unit tests

- [Version Index](version_document/INDEX.md) - All version documents

- [Release v1.0.3](version_document/RELEASE_v1.0.3.md) - Latest release notespython tests/test_hybrid_pipeline.py

- [Build Guide](version_document/BUILD_SUCCESS_v1.0.3.md) - Build instructions

- [Deployment](version_document/DEPLOYMENT_v1.0.3.md) - Deployment checklist```    â”œâ”€â”€ run_edge_case_tests.py   # Edge case test runnerâ”œâ”€â”€ core_nlp/



### **Technical Docs**

- [UI Redesign](version_document/BA_GOOGLE_CALENDAR_UI_REDESIGN.md)

- [Sound System](version_document/SOUND_SYSTEM_V2.md)### Adding New Patterns    â”œâ”€â”€ test_cases.json          # Test dataset

- [NLP Training](version_document/GPU_TRAINING_GUIDE.md)

- [Testing Guide](version_document/TEST_GUIDE_v0.8.1.md)



---1. Update regex patterns in `core_nlp/pipeline.py`    â””â”€â”€ edge_case_tests_1000.json  # 1050 edge cases# Data Processingâ”‚   â”œâ”€â”€ pipeline.py             # NLPPipeline: NER (underthesea) + regex trÃ­ch event/time/location/reminder



## ğŸ¤ Contributing2. Update parsing logic in `core_nlp/time_parser.py`



We welcome contributions! Please follow these guidelines:3. Add test cases in `tests/test_cases.json````



1. **Fork** the repository4. Run full test suite

2. **Create** a feature branch (`git checkout -b feature/AmazingFeature`)

3. **Commit** your changes (`git commit -m 'Add some AmazingFeature'`)5. Update documentationbabel>=2.13.1             # Locale and timezone supportâ”‚   â””â”€â”€ time_parser.py          # parse_vietnamese_time: quy táº¯c thá»i gian tiáº¿ng Viá»‡t

4. **Push** to the branch (`git push origin feature/AmazingFeature`)

5. **Open** a Pull Request



### **Development Standards**## ğŸ“„ License### Luá»“ng Xá»­ LÃ½ NLP

- Follow PEP 8 style guide

- Write unit tests for new features

- Update documentation

- Add examples to READMEThis project is licensed under the MIT License.â”œâ”€â”€ database/



---



## ğŸ“„ License## ğŸ‘¨â€ğŸ’» Author```



This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.



---**d0ngle8k**Input: "thá»© 3 mÆ°á»i giá» tÃ´i cÃ³ lá»‹ch phá»ng váº¥n á»Ÿ táº§ng 5, nháº¯c trÆ°á»›c 30 phÃºt"# Import/Exportâ”‚   â”œâ”€â”€ db_manager.py           # SQLite CRUD vÃ  cÃ¡c truy váº¥n tiá»‡n Ã­ch



## ğŸ™ Acknowledgments- Repository: [NLP-Processing](https://github.com/d0ngle8k/NLP-Processing)



- **PhoBERT** - Vietnamese BERT model by VinAI Research   â”‚

- **CustomTkinter** - Modern tkinter UI library

- **underthesea** - Vietnamese NLP toolkit## ğŸ™ Acknowledgments

- **PyInstaller** - Executable packaging

   â–¼ics>=0.7.2                # iCalendar format supportâ”‚   â””â”€â”€ schema.sql              # DDL táº¡o báº£ng events

---

- **PhoBERT** - Pre-trained Vietnamese BERT model

## ğŸ“ Contact

- **VNCoreNLP** - Vietnamese NLP toolkitâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

**Author:** d0ngle8k  

**GitHub:** [@d0ngle8k](https://github.com/d0ngle8k)  - Test data contributors

**Repository:** [NLP-Processing](https://github.com/d0ngle8k/NLP-Processing)

â”‚ 1. Normalize & Extract Time Patterns   â”‚â”œâ”€â”€ services/

---

---

## ğŸ“ˆ Statistics

â”‚    â†’ "thá»© 3 mÆ°á»i giá»"                  â”‚

```

ğŸ“Š Project Stats**Made with â¤ï¸ for Vietnamese NLP**

â”œâ”€â”€ Lines of Code: ~4,500

â”œâ”€â”€ Test Coverage: 85%+â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜# Statistics & Reporting (v0.6+)â”‚   â”œâ”€â”€ import_service.py       # Import JSON/ICS â†’ DB

â”œâ”€â”€ Documentation: 35+ files

â”œâ”€â”€ Versions Released: 12+   â”‚

â””â”€â”€ Accuracy: 99.1% (real-world)

   â–¼matplotlib>=3.8.0         # Charts and visualizationsâ”‚   â”œâ”€â”€ export_service.py       # Export DB â†’ JSON/ICS

ğŸ¯ NLP Performance

â”œâ”€â”€ Event Extraction: 80.67%â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”œâ”€â”€ Time Parsing: 95.2%

â”œâ”€â”€ Location Detection: 92.3%â”‚ 2. Parse Vietnamese Time                â”‚reportlab>=4.0.7          # PDF report generationâ”‚   â””â”€â”€ notification_service.py # Luá»“ng ná»n kiá»ƒm tra vÃ  popup nháº¯c nhá»Ÿ

â””â”€â”€ Processing Speed: <100ms/query

â”‚    â†’ datetime: 2025-11-11T10:00:00     â”‚

ğŸ’¾ Build Size

â”œâ”€â”€ Exe File: 987 MBâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜openpyxl>=3.1.2          # Excel file generationâ”œâ”€â”€ tests/

â”œâ”€â”€ Models: 1,034 MB

â”œâ”€â”€ PyTorch: 428 MB   â”‚

â””â”€â”€ Dependencies: ~250 MB

```   â–¼scikit-learn>=1.3.0      # Machine learning utilitiesâ”‚   â”œâ”€â”€ test_nlp_pipeline.py    # unittest tÃ­nh macro-F1



---â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”



<div align="center">â”‚ 3. Extract Location (NER + Regex)      â”‚```â”‚   â””â”€â”€ test_cases.json         # dá»¯ liá»‡u kiá»ƒm thá»­



**â­ Star this repo if you find it useful!**â”‚    â†’ "táº§ng 5"                           â”‚



Made with â¤ï¸ by d0ngle8kâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”œâ”€â”€ requirements.txt



</div>   â”‚


   â–¼---â””â”€â”€ README.md

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ 4. Extract Reminder                     â”‚```

â”‚    â†’ reminder_minutes: 30               â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜## ğŸš€ CÃ i Äáº·t Nhanh

   â”‚

   â–¼## YÃªu cáº§u há»‡ thá»‘ng

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ 5. Extract Event Name (Remaining Text) â”‚### 1. Clone Repository

â”‚    â†’ "phá»ng váº¥n"                        â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜```powershell- Python 3.9+ (Ä‘Ã£ kiá»ƒm thá»­ trÃªn Windows)

   â”‚

   â–¼git clone https://github.com/d0ngle8k/NLP-Processing.git- Tkinter (Ä‘i kÃ¨m CPython chuáº©n trÃªn Windows)

Result: {

  "event": "phá»ng váº¥n",cd NLP-Processing- ThÆ° viá»‡n trong `requirements.txt`: underthesea, tkcalendar, ics, babel, (dateparser hiá»‡n khÃ´ng dÃ¹ng trong mÃ£, cÃ³ thá»ƒ giá»¯ láº¡i náº¿u muá»‘n thá»­ nghiá»‡m)

  "start_time": "2025-11-11T10:00:00",

  "location": "táº§ng 5",```

  "reminder_minutes": 30

}## CÃ i Ä‘áº·t vÃ  cháº¡y (Windows PowerShell)

```

### 2. Táº¡o Virtual Environment

### Database Schema

```powershell1) Táº¡o mÃ´i trÆ°á»ng áº£o vÃ  kÃ­ch hoáº¡t

```sql

CREATE TABLE IF NOT EXISTS events (python -m venv venv

    id INTEGER PRIMARY KEY AUTOINCREMENT,

    event_name TEXT NOT NULL,.\venv\Scripts\Activate.ps1```powershell

    start_time TEXT NOT NULL,      -- ISO 8601 format

    end_time TEXT,                  -- ISO 8601 (optional)```python -m venv venv

    location TEXT,

    reminder_minutes INTEGER DEFAULT 0,.\n+venv\Scripts\Activate.ps1  # thÃ´ng thÆ°á»ng trÃªn Windows

    status TEXT DEFAULT 'pending'   -- 'pending' or 'notified'

);### 3. CÃ i Äáº·t Dependencies# Náº¿u venv cá»§a báº¡n cÃ³ cáº¥u trÃºc dáº¡ng bin/ (nhÆ° repo nÃ y), dÃ¹ng:

```

```powershell# .\venv\bin\Activate.ps1

---

pip install -r requirements.txt```

## ğŸ§ª Kiá»ƒm Thá»­

```

### Edge Case Testing

2) CÃ i Ä‘áº·t phá»¥ thuá»™c

á»¨ng dá»¥ng Ä‘Ã£ Ä‘Æ°á»£c kiá»ƒm thá»­ vá»›i **1050 edge cases** bao gá»“m:

### 4. Cháº¡y á»¨ng Dá»¥ng

- âœ… **weekday_time** (100 cases): "t5 tÃ¡mh", "thá»© 2 bah", "chu nhat mÆ°á»ih" - **100% pass**

- âœ… **date_format** (100 cases): "20.10", "15/12", "ngÃ y 6 thÃ¡ng 11" - **100% pass**```powershell```powershell

- âœ… **period_marker** (100 cases): "sÃ¡ng", "chiá»u", "tá»‘i", "Ä‘Ãªm" - **100% pass**

- âœ… **typo_no_diacritics** (50 cases): "hom nay", "ngay mai", "toi" - **100% pass**python main.pypip install -r requirements.txt

- âœ… **duration** (25 cases): "trong 2 ngÃ y", "sau 3 giá»" - **100% pass**

- âœ… **next_week** (50 cases): "tuáº§n sau", "thá»© 2 tuáº§n sau" - **100% pass**``````

- âœ… **today_explicit** (25 cases): "hÃ´m nay 10h" - **100% pass**



**Tá»•ng káº¿t**: **96.6%** pass rate (1014/1050)

### 5. (Optional) Build EXE3) Cháº¡y á»©ng dá»¥ng

### Cháº¡y Tests

```powershell

```powershell

# Táº¡o edge case testspython -m PyInstaller TroLyLichTrinh0.6.1.spec --clean --noconfirm```powershell

python scripts\generate_edge_case_tests.py

```python main.py

# Cháº¡y edge case tests

python tests\run_edge_case_tests.pyFile EXE sáº½ cÃ³ táº¡i: `dist\TroLyLichTrinh0.6.1.exe` (111.91 MB)# hoáº·c (náº¿u dÃ¹ng interpreter trong venv/bin)



# Káº¿t quáº£# .\venv\bin\python.exe main.py

# Total Tests: 1050

# âœ… Passed: 1014 (96.6%)---```

# âŒ Failed: 36 (3.4%)

```



### Test Cases Äáº·c Biá»‡t## ğŸ“– Sá»­ Dá»¥ngMáº¹o dÃ¹ng nhanh:



```python- Nháº­p: â€œHá»p nhÃ³m lÃºc 10h sÃ¡ng mai á»Ÿ phÃ²ng 302, nháº¯c trÆ°á»›c 15 phÃºtâ€ â†’ báº¥m â€œThÃªm sá»± kiá»‡nâ€.

# Compact weekday format vá»›i typos

"t5 tÃ¡mh phá»ng váº¥n"           â†’ Thá»© 5, 8:00, "phá»ng váº¥n"### ThÃªm Sá»± Kiá»‡n- Chá»n ngÃ y trÃªn lá»‹ch Ä‘á»ƒ xem danh sÃ¡ch. Chá»n má»™t dÃ²ng â†’ â€œSá»­aâ€ Ä‘á»ƒ chá»‰nh nhanh.

"t2 bah há»p"                  â†’ Thá»© 2, 3:00, "há»p"

"chu nhat mÆ°á»ih Ä‘i chÆ¡i"      â†’ Chá»§ nháº­t, 10:00, "Ä‘i chÆ¡i"Nháº­p cÃ¢u lá»‡nh tá»± nhiÃªn vÃ o Ã´ text, vÃ­ dá»¥:- â€œXuáº¥t JSON/ICSâ€ vÃ  â€œNháº­p JSON/ICSâ€ á»Ÿ thanh nÃºt dÆ°á»›i cÃ¹ng.



# Date formats```

"há»p 20.10"                   â†’ 20/10/2025, "há»p"

"khÃ¡m bá»‡nh 15/12"             â†’ 15/12/2025, "khÃ¡m bá»‡nh"Há»p nhÃ³m lÃºc 10h sÃ¡ng mai á»Ÿ phÃ²ng 302, nháº¯c trÆ°á»›c 15 phÃºt## Kiá»ƒm thá»­ (F1 macro)



# Period markers  ```

"6h chiá»u há»p"                â†’ 18:00 (khÃ´ng pháº£i 6:00)

"10h tá»‘i"                     â†’ 22:00Báº¥m **"ThÃªm sá»± kiá»‡n"** â†’ Há»‡ thá»‘ng tá»± Ä‘á»™ng:Cháº¡y unittest Ä‘o macro-F1 cho pipeline NLP:



# Relative dates- TrÃ­ch xuáº¥t tÃªn sá»± kiá»‡n: "Há»p nhÃ³m"

"tuáº§n sau thá»© 3"              â†’ Thá»© 3 tuáº§n sau

"thÃ¡ng sau ngÃ y 15"           â†’ NgÃ y 15 thÃ¡ng sau- Parse thá»i gian: 10:00 AM ngÃ y mai```powershell

```

- Äá»‹a Ä‘iá»ƒm: "phÃ²ng 302"python -m unittest tests\test_nlp_pipeline.py -v

---

- Nháº¯c nhá»Ÿ: 15 phÃºt trÆ°á»›c```

## ğŸ“¦ Dependencies



### Core Libraries

```### Xem & Sá»­a Sá»± Kiá»‡nVÃ­ dá»¥ káº¿t quáº£ gáº§n Ä‘Ã¢y: macro-F1 â‰ˆ 0.967 (tÃ¹y mÃ´i trÆ°á»ng/thÆ° viá»‡n).

underthesea>=6.7.0          # Vietnamese NLP (NER)

python-dateutil>=2.8.2      # Date parsing1. Click vÃ o ngÃ y trÃªn **Calendar**

tkcalendar>=1.6.1           # Calendar widget

babel>=2.13.1               # Timezone support2. Danh sÃ¡ch sá»± kiá»‡n hiá»ƒn thá»‹ bÃªn dÆ°á»›i## CÆ¡ sá»Ÿ dá»¯ liá»‡u (SQLite)

ics>=0.7.2                  # iCalendar format

```3. Double-click vÃ o sá»± kiá»‡n â†’ Chá»‰nh sá»­a inline



### Optional (Statistics - chÆ°a dÃ¹ng)4. Báº¥m **"Sá»­a"** Ä‘á»ƒ lÆ°u thay Ä‘á»•i- File DB: `database/events.db` tá»± táº¡o náº¿u chÆ°a cÃ³.

```

matplotlib>=3.8.0           # Charts- Báº£ng `events` (xem `database/schema.sql`):

reportlab>=4.0.7            # PDF reports

openpyxl>=3.1.2            # Excel export### XÃ³a Sá»± Kiá»‡n    - `id` (PK), `event_name` (TEXT, NOT NULL), `start_time` (TEXT ISO 8601, NOT NULL), `end_time` (TEXT, NULL), `location` (TEXT), `reminder_minutes` (INTEGER, default 0), `status` (TEXT, default 'pending').

```

- **XÃ³a 1 sá»± kiá»‡n**: Chá»n sá»± kiá»‡n â†’ Báº¥m **"XÃ³a"**- Reset DB (xÃ³a dá»¯ liá»‡u): xoÃ¡ file `database/events.db` khi á»©ng dá»¥ng Ä‘ang táº¯t.

---

- **XÃ³a táº¥t cáº£**: Báº¥m **"XÃ³a táº¥t cáº£"** â†’ XÃ¡c nháº­n 2 láº§n

## ğŸ”§ Troubleshooting

## Nháº­p/Xuáº¥t JSON & ICS

### Lá»—i ThÆ°á»ng Gáº·p

### Xem Thá»‘ng KÃª

#### 1. `ModuleNotFoundError: No module named 'tkcalendar'`

```powershell1. Báº¥m **"ğŸ“Š Xem thá»‘ng kÃª"**- Xuáº¥t máº·c Ä‘á»‹nh ra gá»‘c dá»± Ã¡n: `schedule_export.json`, `schedule_export.ics`.

# KÃ­ch hoáº¡t venv vÃ  cÃ i Ä‘áº·t láº¡i

.\venv\Scripts\Activate.ps12. Chá»n tab phÃ¢n tÃ­ch:- Nháº­p tá»« tá»‡p do báº¡n chá»n qua há»™p thoáº¡i.

pip install -r requirements.txt

```   - ğŸ“Š Tá»•ng quan- **Nháº­p JSON há»— trá»£ 2 Ä‘á»‹nh dáº¡ng**:



#### 2. Database khÃ´ng táº¡o Ä‘Æ°á»£c   - â° Thá»i gian    1. **Export format** (truyá»n thá»‘ng): `{"event_name": "...", "start_time": "2025-11-10T18:00:00", ...}`

```powershell

# Kiá»ƒm tra quyá»n ghi trong thÆ° má»¥c database/   - ğŸ“ Äá»‹a Ä‘iá»ƒm    2. **Test case format** (Má»šI): `{"input": "Há»p nhÃ³m 10h mai...", "expected": {...}}` - tá»± Ä‘á»™ng parse qua NLP

# XÃ³a file events.db cÅ© náº¿u bá»‹ corrupt

Remove-Item database\events.db -Force   - ğŸ·ï¸ PhÃ¢n loáº¡i- Mapping chÃ­nh:

python main.py  # Sáº½ táº¡o láº¡i tá»± Ä‘á»™ng

```   - ğŸ“‰ Xu hÆ°á»›ng    - JSON export: `event_name`/`event` â†’ `event_name`, `start_time` ISO báº¯t buá»™c, `location`, `reminder_minutes`.



#### 3. Underthesea NER khÃ´ng hoáº¡t Ä‘á»™ng3. Báº¥m **"ğŸ“„ Xuáº¥t PDF"** hoáº·c **"ğŸ“Š Xuáº¥t Excel"**    - JSON test case: `input` â†’ parse qua NLP â†’ event + start_time + location + reminder.

```

âš ï¸ WARNING: underthesea NER failed, using fallback regex    - ICS: Ä‘á»c `name`, `begin` (tá»± Ä‘á»™ng chuyá»ƒn `datetime`/Arrow â†’ ISO), `location`.

```

â†’ KhÃ´ng áº£nh hÆ°á»Ÿng chá»©c nÄƒng, app váº«n cháº¡y vá»›i regex location detection### Import/Export- **LÆ°u Ã½**: CÃ³ thá»ƒ nháº­p file test tá»« `./tests/` (nhÆ° `test_cases.json`, `extended_test_cases_10000.json`).



#### 4. Venv cÃ³ cáº¥u trÃºc `bin/` thay vÃ¬ `Scripts/`- **Export JSON**: Báº¥m **"Xuáº¥t JSON"** â†’ `schedule_export.json`

```powershell

# Sá»­ dá»¥ng Ä‘Æ°á»ng dáº«n bin/- **Export ICS**: Báº¥m **"Xuáº¥t ICS"** â†’ `schedule_export.ics` (Google Calendar compatible)## ÄÃ³ng gÃ³i (.exe) báº±ng PyInstaller

.\venv\bin\Activate.ps1

.\venv\bin\python.exe main.py- **Import**: Báº¥m **"Nháº­p JSON/ICS"** â†’ Chá»n file

```

`underthesea` sá»­ dá»¥ng mÃ´ hÃ¬nh ngoÃ i thÆ° má»¥c ngÆ°á»i dÃ¹ng (`~/.underthesea`), cáº§n add-data vÃ  Ä‘Ã£ cÃ³ hack `_MEIPASS` trong `main.py` Ä‘á»ƒ Ä‘á»‹nh tuyáº¿n `Path.home()` khi cháº¡y báº£n Ä‘Ã³ng gÃ³i.

---

---

## ğŸ“ Changelog

```powershell

### Version 0.8.1 (2025-11-06) - Current

**Edge Case Improvements:**## ğŸ—ï¸ Kiáº¿n TrÃºc & Luá»“ng Xá»­ LÃ½pyinstaller --onefile --windowed --name "TrinhLyAo" \

- âœ… Fixed compact weekday format: "t5 tÃ¡mh", "t2 bah", "t7 sÃ¡uh"

- âœ… Added word boundaries to prevent partial matches    --add-data "C:\Users\<TEN_USER>\.underthesea;.underthesea" \

- âœ… Enhanced pipeline patterns for number words with diacritics

- âœ… Fixed "chu nhat" (chá»§ nháº­t) parsing### Architecture Overview    --hidden-import "babel.numbers" \

- ğŸ“Š Edge case pass rate: **96.6%** (1014/1050)

```    main.py

**Improvements:**

- âœ¨ Added Settings window (âš™ï¸ button)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”```

- ğŸ¨ Reorganized Import/Export to Settings

- ğŸ“¦ Added app info sectionâ”‚                        main.py (GUI)                         â”‚

- ğŸ§¹ Code cleanup and optimization

â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚Ghi chÃº:

### Version 0.7.0 (2025-11-05)

**Major Fixes:**â”‚  â”‚ Input Field  â”‚  â”‚   Calendar   â”‚  â”‚  Statistics  â”‚      â”‚- Sá»­a `<TEN_USER>` phÃ¹ há»£p mÃ¡y build.

- âœ… Fixed "thá»© 3 mÆ°á»i giá»" parsing (weekday + number words)

- âœ… Fixed "tÃ´i" vs "tá»‘i" ambiguityâ”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚- `--hidden-import "babel.numbers"` giÃºp tkcalendar/babel khÃ´ng lá»—i khi Ä‘Ã³ng gÃ³i.

- âœ… Fixed "hÃ´m nay" parsing (0% â†’ 100%)

- âœ… Fixed "tuáº§n sau" parsing (64% â†’ 100%)â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜- Báº£n .exe sáº½ giáº£i nÃ©n táº¡m vÃ  `Path.home()` Ä‘Ã£ Ä‘Æ°á»£c ghi Ä‘Ã¨ Ä‘á»ƒ trá» tá»›i vÃ¹ng táº¡m.

- âœ… Fixed duration expressions (64% â†’ 100%)

- ğŸ“Š Generated 1050 edge case tests          â”‚                  â”‚                  â”‚



### Version 0.6.1 (2025-11-04)          â–¼                  â–¼                  â–¼## Sá»± cá»‘ thÆ°á»ng gáº·p (Troubleshooting)

**Critical Fixes:**

- âœ… Fixed date format parsing: "20.10", "15/12", "6-11"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

- âœ… Fixed "6h chiá»u" parsed as 06:00 (now correctly 18:00)

- âœ… Enhanced period detection logicâ”‚                     Core Components                          â”‚- Lá»—i `ModuleNotFoundError: No module named 'tkcalendar'`



### Version 0.6.0 (2025-11-03)â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚    - Äáº£m báº£o báº¡n Ä‘Ã£ kÃ­ch hoáº¡t Ä‘Ãºng venv vÃ  cháº¡y `pip install -r requirements.txt`.

**Initial Release:**

- âœ¨ Basic NLP pipeline for Vietnameseâ”‚  â”‚ NLP Pipeline â”‚  â”‚  DB Manager  â”‚  â”‚  Statistics  â”‚      â”‚

- ğŸ“… Calendar UI with tkcalendar

- ğŸ”” Reminder notificationsâ”‚  â”‚ (core_nlp)   â”‚  â”‚  (database)  â”‚  â”‚  Service     â”‚      â”‚- underthesea khÃ´ng táº£i Ä‘Æ°á»£c mÃ´ hÃ¬nh/khÃ´ng cÃ³ NER

- ğŸ“¥ğŸ“¤ JSON/ICS import/export

â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚    - á»¨ng dá»¥ng váº«n cháº¡y nhá» fallback, nhÆ°ng nháº­n diá»‡n Ä‘á»‹a Ä‘iá»ƒm cÃ³ thá»ƒ kÃ©m chÃ­nh xÃ¡c hÆ¡n.

---

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    - Khi Ä‘Ã³ng gÃ³i, nhá»› `--add-data ~/.underthesea` nhÆ° hÆ°á»›ng dáº«n.

## ğŸ“„ License

          â”‚                  â”‚                  â”‚

MIT License

          â–¼                  â–¼                  â–¼- Váº¥n Ä‘á» timezone trong ICS/hiá»ƒn thá»‹ giá»

Copyright (c) 2025 TrÆ°á»ng Gia ThÃ nh (d0ngle8k)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    - Parser chá»‰ gÃ¡n timezone khi báº¡n nÃªu rÃµ (UTC/GMT hoáº·c â€œmÃºi giá» +..â€). Vá»›i dá»¯ liá»‡u khÃ´ng cÃ³ tz, á»©ng dá»¥ng dÃ¹ng datetime â€œnaiveâ€.

---

â”‚                      Data Layer                              â”‚

## ğŸ‘¨â€ğŸ’» TÃ¡c Giáº£

â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚- Venv cÃ³ thÆ° má»¥c `bin/` thay vÃ¬ `Scripts/`

**TrÆ°á»ng Gia ThÃ nh (d0ngle8k)**

- GitHub: [@d0ngle8k](https://github.com/d0ngle8k)â”‚  â”‚ Time Parser  â”‚  â”‚SQLite (eventsâ”‚  â”‚ Export/Importâ”‚      â”‚    - Sá»­ dá»¥ng Ä‘Æ°á»ng dáº«n `venv/bin/python.exe` vÃ  `venv/bin/Activate.ps1` thay tháº¿ nhÆ° vÃ­ dá»¥.

- Repository: [NLP-Processing](https://github.com/d0ngle8k/NLP-Processing)

â”‚  â”‚ (Vietnamese) â”‚  â”‚    table)    â”‚  â”‚   Services   â”‚      â”‚

---

â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚---

## ğŸ™ Cáº£m Æ n

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

- **underthesea**: Vietnamese NLP library

- **tkcalendar**: Calendar widget for Tkinter```Náº¿u báº¡n muá»‘n má»Ÿ rá»™ng: thÃªm index DB cho `start_time`/`status`, má»Ÿ rá»™ng máº«u thá»i gian (vÃ­ dá»¥ â€œtuáº§n tá»›iâ€, â€œÄ‘áº§u tuáº§nâ€, â€œcuá»‘i thÃ¡ngâ€), thÃªm bá»™ lint/type check (ruff/mypy), hoáº·c cáº£i thiá»‡n UX xuáº¥t/nháº­p vá»›i há»™p thoáº¡i lÆ°u.

- **python-dateutil**: Powerful date parsing

- **ics**: iCalendar format support



---### NLP Pipeline Flow

```

## ğŸ“ Há»— Trá»£User Input: "Há»p nhÃ³m lÃºc 10h sÃ¡ng mai á»Ÿ phÃ²ng 302, nháº¯c trÆ°á»›c 15 phÃºt"

     â”‚

Náº¿u gáº·p váº¥n Ä‘á» hoáº·c cÃ³ cÃ¢u há»i:     â–¼

1. Kiá»ƒm tra [Troubleshooting](#-troubleshooting)â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

2. Xem [CHANGELOG.md](CHANGELOG.md)â”‚ 1. NER (underthesea) + Regex Location Extraction            â”‚

3. Táº¡o issue trÃªn GitHubâ”‚    â†’ location = "phÃ²ng 302"                                 â”‚

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---     â”‚

     â–¼

<p align="center">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

  <strong>ğŸ¯ Version 0.8.1 - Production Ready</strong>â”‚ 2. Time Expression Detection & Extraction                   â”‚

  <br>â”‚    â†’ time_str = "10h sÃ¡ng mai"                              â”‚

  Made with â¤ï¸ by d0ngle8kâ”‚    â†’ parse_vietnamese_time() â†’ datetime                     â”‚

</p>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Reminder Extraction (regex "nháº¯c [trÆ°á»›c] X [phÃºt/giá»]")  â”‚
â”‚    â†’ reminder_minutes = 15                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Event Name Normalization (remaining text)                â”‚
â”‚    â†’ event_name = "Há»p nhÃ³m"                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
  Result: {
    "event": "Há»p nhÃ³m",
    "start_time": "2025-11-06T10:00:00",
    "location": "phÃ²ng 302",
    "reminder_minutes": 15
  }
```

### Database Operations
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      db_manager.py                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CRUD Operations:                                             â”‚
â”‚  â€¢ create_event(name, start, end, location, reminder)       â”‚
â”‚  â€¢ get_events_by_date(date)                                 â”‚
â”‚  â€¢ update_event(id, name, start, end, location, reminder)   â”‚
â”‚  â€¢ delete_event(id)                                          â”‚
â”‚  â€¢ delete_all_events()                                       â”‚
â”‚                                                              â”‚
â”‚ Reminder Operations:                                         â”‚
â”‚  â€¢ get_pending_reminders(now)                               â”‚
â”‚  â€¢ mark_as_notified(event_ids)                              â”‚
â”‚                                                              â”‚
â”‚ Statistics Queries:                                          â”‚
â”‚  â€¢ get_all_events_for_stats()                               â”‚
â”‚  â€¢ get_events_count()                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Notification Service
```
Background Thread (checks every 60 seconds):
  1. Query pending reminders (status='pending')
  2. Check if event_time - reminder_minutes <= now
  3. Show popup notification (Tkinter Toplevel)
  4. Mark as notified (status='notified')
  5. Sleep 60 seconds, repeat
```

---

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
NLP-Processing/
â”œâ”€â”€ main.py                          # Entry point - Tkinter GUI
â”œâ”€â”€ requirements.txt                 # Python dependencies
â”œâ”€â”€ TroLyLichTrinh0.6.1.spec        # PyInstaller build config
â”œâ”€â”€ README.md                        # This file
â”œâ”€â”€ CHANGELOG.md                     # Version history
â”‚
â”œâ”€â”€ core_nlp/                        # NLP Processing Module
â”‚   â”œâ”€â”€ pipeline.py                  # Main NLP pipeline (NER + Time + Location)
â”‚   â”œâ”€â”€ time_parser.py               # Vietnamese time expression parser
â”‚   â””â”€â”€ __pycache__/
â”‚
â”œâ”€â”€ database/                        # Database Layer
â”‚   â”œâ”€â”€ db_manager.py                # SQLite CRUD operations
â”‚   â”œâ”€â”€ schema.sql                   # Database schema definition
â”‚   â”œâ”€â”€ events.db                    # SQLite database file (auto-created)
â”‚   â””â”€â”€ __pycache__/
â”‚
â”œâ”€â”€ services/                        # Business Logic Services
â”‚   â”œâ”€â”€ import_service.py            # Import JSON/ICS to database
â”‚   â”œâ”€â”€ export_service.py            # Export database to JSON/ICS
â”‚   â”œâ”€â”€ notification_service.py      # Background reminder notifications
â”‚   â”œâ”€â”€ statistics_service.py        # Statistics analysis & reporting
â”‚   â””â”€â”€ __pycache__/
â”‚
â”œâ”€â”€ scripts/                         # Utility Scripts
â”‚   â””â”€â”€ generate_report.py           # Report generation utilities
â”‚
â”œâ”€â”€ tests/                           # Testing Suite
â”‚   â”œâ”€â”€ test_nlp_pipeline.py         # Unit tests (macro-F1 calculation)
â”‚   â”œâ”€â”€ test_cases.json              # Test dataset (baseline)
â”‚   â”œâ”€â”€ extended_test_cases.json     # Extended tests (10K)
â”‚   â”œâ”€â”€ extended_test_cases_10000.json    # 10,000 test cases
â”‚   â”œâ”€â”€ extended_test_cases_100000.json   # 100,000 test cases
â”‚   â”œâ”€â”€ generate_extended_tests.py   # Test case generator
â”‚   â”œâ”€â”€ run_extended_tests.py        # Test runner
â”‚   â””â”€â”€ test_report.json             # Test results
â”‚
â”œâ”€â”€ build/                           # PyInstaller build artifacts
â”‚   â”œâ”€â”€ TroLyLichTrinh0.6/
â”‚   â””â”€â”€ TroLyLichTrinh0.6.1/
â”‚
â””â”€â”€ dist/                            # Distribution folder
    â”œâ”€â”€ TroLyLichTrinh0.6.exe        # âŒ BROKEN (missing schema.sql)
    â””â”€â”€ TroLyLichTrinh0.6.1.exe      # âœ… WORKING (111.91 MB)
```

### Key Files Explained

| File | Purpose | Lines of Code |
|------|---------|---------------|
| `main.py` | GUI application with Tkinter | ~800 |
| `core_nlp/pipeline.py` | NLP processing logic | ~300 |
| `core_nlp/time_parser.py` | Vietnamese time parsing | ~400 |
| `database/db_manager.py` | Database operations | ~200 |
| `services/statistics_service.py` | Statistics & reporting | ~650 |
| `services/notification_service.py` | Reminder notifications | ~100 |
| `services/import_service.py` | Import JSON/ICS | ~150 |
| `services/export_service.py` | Export JSON/ICS | ~100 |

---

## ğŸ—„ï¸ Database Schema

### Table: `events`

```sql
CREATE TABLE IF NOT EXISTS events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_name TEXT NOT NULL,
    start_time TEXT NOT NULL,        -- ISO 8601 format
    end_time TEXT,                    -- ISO 8601 format (optional)
    location TEXT,
    reminder_minutes INTEGER DEFAULT 0,
    status TEXT DEFAULT 'pending'     -- 'pending' or 'notified'
);
```

### Indexes (Recommended)
```sql
CREATE INDEX idx_start_time ON events(start_time);
CREATE INDEX idx_status ON events(status);
```

### Sample Data
```json
{
  "id": 1,
  "event_name": "Há»p nhÃ³m",
  "start_time": "2025-11-06T10:00:00",
  "end_time": null,
  "location": "phÃ²ng 302",
  "reminder_minutes": 15,
  "status": "pending"
}
```

---

## ğŸ“¥ğŸ“¤ Import/Export

### Export Formats

#### JSON Format
```json
[
  {
    "event_name": "Há»p nhÃ³m",
    "start_time": "2025-11-06T10:00:00",
    "end_time": null,
    "location": "phÃ²ng 302",
    "reminder_minutes": 15,
    "status": "pending"
  }
]
```

#### ICS Format (iCalendar)
```ics
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//TroLyLichTrinh//NONSGML v0.6.1//EN
BEGIN:VEVENT
UID:1@trolylichtrinh
DTSTART:20251106T100000
SUMMARY:Há»p nhÃ³m
LOCATION:phÃ²ng 302
BEGIN:VALARM
TRIGGER:-PT15M
ACTION:DISPLAY
END:VALARM
END:VEVENT
END:VCALENDAR
```

### Import Support

**Supported Formats:**
1. **Export format** (standard):
   ```json
   {"event_name": "...", "start_time": "2025-11-10T18:00:00", ...}
   ```

2. **Test case format** (NLP parsing):
   ```json
   {"input": "Há»p nhÃ³m 10h mai...", "expected": {...}}
   ```
   Automatically parsed through NLP pipeline

3. **ICS format**: Google Calendar, Outlook, Apple Calendar compatible

---

## ğŸ§ª Kiá»ƒm Thá»­

### Run Unit Tests
```powershell
# Run all tests
python -m unittest tests\test_nlp_pipeline.py -v

# Run specific test
python -m unittest tests.test_nlp_pipeline.TestNLPPipeline.test_macro_f1 -v
```

### Test Coverage
- **Test cases**: 100,000+ scenarios
- **Macro-F1 Score**: 99.61%
- **Components tested**:
  - Event name extraction
  - Time parsing (Vietnamese)
  - Location detection (NER + regex)
  - Reminder extraction

### Generate Extended Tests
```powershell
# Generate 10,000 test cases
python tests/generate_extended_tests.py --count 10000

# Generate 100,000 test cases
python tests/generate_extended_tests.py --count 100000
```

### Run Extended Tests
```powershell
# Run with 100,000 test cases
python tests/run_extended_tests.py --max 100000 --file tests/extended_test_cases_100000.json
```

### Test Results
```
Macro-F1 Score: 0.9961
Precision: 0.9965
Recall: 0.9957

Component Breakdown:
- Event Name: 0.9980
- Time Parsing: 0.9970
- Location: 0.9945
- Reminder: 0.9950
```

---

## ğŸ“¦ ÄÃ³ng GÃ³i EXE

### Using PyInstaller

#### Quick Build (Recommended)
```powershell
python -m PyInstaller TroLyLichTrinh0.6.1.spec --clean --noconfirm
```

#### Manual Build (Advanced)
```powershell
pyinstaller --onefile --windowed ^
  --name "TroLyLichTrinh0.6.1" ^
  --icon=icon.ico ^
  --add-data "database/schema.sql;database" ^
  --collect-data underthesea ^
  --collect-data tkcalendar ^
  --collect-data matplotlib ^
  --hidden-import babel.numbers ^
  --hidden-import sklearn.utils._weight_vector ^
  --hidden-import reportlab.graphics.barcode ^
  --exclude-module pytest ^
  --exclude-module unittest ^
  main.py
```

### Build Configuration (TroLyLichTrinh0.6.1.spec)

**Key Settings:**
```python
# Data files (CRITICAL!)
datas = []
datas += collect_data_files('underthesea')
datas += collect_data_files('tkcalendar')
datas += collect_data_files('matplotlib')
datas += [('database/schema.sql', 'database')]  # Fixed in v0.6.1

# Hidden imports
hiddenimports = [
    'babel.numbers',
    'sklearn.utils._weight_vector',
    'reportlab.graphics.barcode.common',
    'openpyxl.cell._writer',
    # ... (400+ sklearn imports)
]

# Exclusions (reduce size)
excludes = ['pytest', 'unittest', 'test', 'setuptools']
```

### Build Output
```
dist/
â””â”€â”€ TroLyLichTrinh0.6.1.exe    # 111.91 MB
```

### Build Warnings (Safe to Ignore)
```
WARNING: lib not found: torch.dll
WARNING: lib not found: api-ms-win-core-path-l1-1-0.dll
WARNING: Hidden import "scipy._distributor_init" not found
```

---

## ğŸ”§ Troubleshooting

### Common Issues

#### 1. ModuleNotFoundError: No module named 'tkcalendar'
**Solution:**
```powershell
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

#### 2. EXE Crashes on Launch (v0.6)
**Problem:** Missing `schema.sql` in PyInstaller bundle

**Solution:** Use v0.6.1 instead
```powershell
# Download from dist/
.\dist\TroLyLichTrinh0.6.1.exe
```

#### 3. Underthesea NER Not Working
**Cause:** Model files not found

**Solution:**
```powershell
# Download models manually
python -c "import underthesea; print(underthesea.__version__)"

# For EXE build:
pyinstaller --add-data "C:\Users\<USER>\.underthesea;.underthesea" ...
```

#### 4. Statistics Dashboard Error
**Problem:** Missing matplotlib/reportlab

**Solution:**
```powershell
pip install matplotlib reportlab openpyxl
```

#### 5. Timezone Issues
**Behavior:** Parser only applies timezone when explicitly stated

**Examples:**
```
"Há»p 10h UTC+7"        â†’ Applies UTC+7
"Há»p 10h sÃ¡ng mai"     â†’ No timezone (naive datetime)
"Há»p mÃºi giá» +07:00"   â†’ Applies +07:00
```

#### 6. Import JSON Fails
**Check format:**
```json
// Valid export format
{"event_name": "...", "start_time": "2025-11-10T18:00:00"}

// Valid test case format
{"input": "Há»p 10h mai", "expected": {...}}
```

#### 7. Virtual Environment Path Issues
**If venv has `bin/` instead of `Scripts/`:**
```powershell
.\venv\bin\Activate.ps1
.\venv\bin\python.exe main.py
```

---

## ğŸ“ Changelog

### Version 0.6.1 (2025-11-05) ğŸ”¥ HOTFIX
**Critical Bug Fix:**
- âœ… Fixed: EXE crash on launch (FileNotFoundError: schema.sql)
- âœ… Added: `database/schema.sql` to PyInstaller bundle
- âœ… Enhanced: Better error messages with frozen state info
- ğŸ“¦ Build: 111.91 MB (same size as v0.6)
- â±ï¸ Fix time: 20 minutes

**Status:** âœ… Production ready, fully functional

---

### Version 0.6 (2025-11-05) âŒ DEPRECATED
**Known Issue:** EXE crashes on launch (use v0.6.1 instead)

**Features Added:**
- ğŸ“Š Statistics Dashboard (5 tabs)
- ğŸ“„ PDF report generation (reportlab)
- ğŸ“Š Excel export (multi-sheet)
- ğŸ“ˆ Charts & visualizations (matplotlib)
- ğŸ·ï¸ Event classification (6 categories)
- ğŸ“‰ Trend analysis (4-week rolling)

**Dependencies:**
- matplotlib>=3.8.0
- reportlab>=4.0.7
- openpyxl>=3.1.2
- scikit-learn>=1.3.0

---

## ğŸ“„ License

MIT License

Copyright (c) 2025 d0ngle8k

---

## ğŸ‘¨â€ğŸ’» Author

**d0ngle8k**
- GitHub: [@d0ngle8k](https://github.com/d0ngle8k)
- Repository: [NLP-Processing](https://github.com/d0ngle8k/NLP-Processing)

---

## ğŸ™ Acknowledgments

- **underthesea**: Vietnamese NLP library
- **tkcalendar**: Calendar widget for Tkinter
- **matplotlib**: Visualization library
- **reportlab**: PDF generation
- **PyInstaller**: Python to EXE packaging

---

## ğŸ“ Support

Náº¿u báº¡n gáº·p váº¥n Ä‘á» hoáº·c cÃ³ cÃ¢u há»i:
1. Kiá»ƒm tra [Troubleshooting](#-troubleshooting)
2. Xem [CHANGELOG.md](CHANGELOG.md) cho lá»‹ch sá»­ phiÃªn báº£n
3. Táº¡o issue trÃªn GitHub

---

**âš¡ Quick Start:**
```powershell
git clone https://github.com/d0ngle8k/NLP-Processing.git
cd NLP-Processing
python -m venv venv
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
python main.py
```

**ğŸ¯ Current Version:** v0.6.1 (Stable - Production Ready)

---

<p align="center">Made with â¤ï¸ by d0ngle8k</p>

## ğŸ›  Hybrid Model EXE Build (v0.8+)

Báº¡n cÃ³ thá»ƒ Ä‘Ã³ng gÃ³i á»©ng dá»¥ng (bao gá»“m mÃ´ hÃ¬nh PhoBERT fine-tuned hybrid) thÃ nh file `.exe` báº±ng script tá»± Ä‘á»™ng.

### 1. Chuáº©n bá»‹
```powershell
git clone https://github.com/d0ngle8k/NLP-Processing.git
cd NLP-Processing
python -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

### 2. Kiá»ƒm tra mÃ´ hÃ¬nh
ThÆ° má»¥c báº¯t buá»™c: `models/phobert_finetuned/` (náº¿u thiáº¿u sáº½ fallback rule-based).
Tuá»³ chá»n: `models/phobert_base/`.

### 3. Build ONEDIR (khuyÃªn dÃ¹ng cho mÃ´ hÃ¬nh lá»›n)
```powershell
python scripts/build_exe.py --name TroLyLichTrinhHybrid
```
Káº¿t quáº£: `dist/TroLyLichTrinhHybrid/` chá»©a `.exe` vÃ  cÃ¡c file phá»¥.

### 4. Build ONEFILE (dung lÆ°á»£ng lá»›n, khá»Ÿi Ä‘á»™ng cháº­m hÆ¡n)
```powershell
python scripts/build_exe.py --name TroLyLichTrinhHybrid --onefile
```
Káº¿t quáº£: `dist/TroLyLichTrinhHybrid.exe`

### 5. ThÃªm underthesea cache (náº¿u cáº§n)
Náº¿u báº¡n cÃ³ thÆ° má»¥c `~/.underthesea` Ä‘Ã£ táº£i mÃ´ hÃ¬nh, copy hoáº·c dÃ¹ng trá»±c tiáº¿p:
```powershell
python scripts/build_exe.py --name TroLyLichTrinhHybrid --underthesea-cache "$env:USERPROFILE\.underthesea"
```

### 6. XÃ¡c thá»±c sau build
```powershell
dist/TroLyLichTrinhHybrid/TroLyLichTrinhHybrid.exe  # hoáº·c .exe onefile
```
Console log (khi cháº¡y láº§n Ä‘áº§u nÃªn tháº¥y):
- `âš¡ Initializing Rule-based NLP...`
- `ğŸ¤– Loading base PhoBERT...` hoáº·c `ğŸ¤– Loading fine-tuned PhoBERT from ...`
- `ğŸ”¥ HYBRID MODE: Rule-based + PhoBERT`

Náº¿u khÃ´ng tháº¥y dÃ²ng HYBRID MODE: kiá»ƒm tra láº¡i mÃ´ hÃ¬nh Ä‘Ã£ thÃªm vÃ o build (thÆ° má»¥c `models/phobert_finetuned`).

### 7. Tuá»³ chá»n loáº¡i bá» mÃ´ hÃ¬nh (chá»‰ rule-based)
```powershell
python scripts/build_exe.py --name TroLyLichTrinhLite --no-model
```
Dung lÆ°á»£ng nhá» hÆ¡n Ä‘Ã¡ng ká»ƒ.

### 8. Máº¹o tá»‘i Æ°u dung lÆ°á»£ng
- TrÃ¡nh --onefile náº¿u khÃ´ng cáº§n, ONEDIR dá»… náº¡p torch/transformers.
- Loáº¡i bá» khÃ´ng dÃ¹ng: sá»­a script thÃªm `excludes=['matplotlib','reportlab']` náº¿u khÃ´ng cáº§n thá»‘ng kÃª/PDF/Excel.
- Äáº£m báº£o `upx` khÃ´ng lÃ m há»ng DLL (máº·c Ä‘á»‹nh PyInstaller dÃ¹ng náº¿u cÃ³). Náº¿u lá»—i runtime, rebuild vá»›i `--noupx` (sá»­a spec).

### 9. Lá»—i thÆ°á»ng gáº·p
| Lá»—i | NguyÃªn nhÃ¢n | Kháº¯c phá»¥c |
|-----|-------------|-----------|
| PhoBERT failed to load | Thiáº¿u file mÃ´ hÃ¬nh | Kiá»ƒm tra `models/phobert_finetuned` Ä‘áº§y Ä‘á»§ |
| ModuleNotFoundError (underthesea) | Cache khÃ´ng Ä‘Ã³ng gÃ³i | ThÃªm `--underthesea-cache` hoáº·c Ä‘á»ƒ fallback regex |
| EXE khá»Ÿi Ä‘á»™ng cháº­m | ONEFILE + torch lá»›n | DÃ¹ng ONEDIR |
| schema.sql missing | Data khÃ´ng thÃªm | Script Ä‘Ã£ thÃªm, kiá»ƒm tra log `[WARN] database/schema.sql not found` |

### 10. Cáº¥u trÃºc sau khi build (ONEDIR)
```
dist/
   TroLyLichTrinhHybrid/
      TroLyLichTrinhHybrid.exe
      database/schema.sql
      models/phobert_finetuned/... (weights, tokenizer, config)
      lib/... (Python stdlib + deps)
```

### 11. PhÃ¢n phá»‘i
Chá»‰ cáº§n gá»­i nguyÃªn folder `TroLyLichTrinhHybrid/` cho ngÆ°á»i dÃ¹ng; há» double-click `.exe` Ä‘á»ƒ cháº¡y (khÃ´ng cáº§n Python cÃ i Ä‘áº·t).

### 12. Kiá»ƒm tra fallback
Thá»­ rename táº¡m `models/phobert_finetuned` bÃªn trong dist vÃ  cháº¡y láº¡i â€“ náº¿u tháº¥y `âš¡ RULE-BASED MODE`, nghÄ©a lÃ  fallback hoáº¡t Ä‘á»™ng.

---
*(Má»¥c nÃ y Ä‘Æ°á»£c thÃªm á»Ÿ phiÃªn báº£n v0.8 hÆ°á»›ng dáº«n Ä‘Ã³ng gÃ³i hybrid model dá»… dÃ ng hÆ¡n.)*
